<!DOCTYPE html>
<html>
<head>
	<title>My AJAX 2</title>
</head>
<body>
	<button id = 'button1'>Get User</button>
	<p id = 'user'></p>
	<button id = 'button2'>Get Users</button>
	<p id = 'users'></p>

<script type="text/javascript">
	document.getElementById('button1').addEventListener('click', getUser);
	document.getElementById('button2').addEventListener('click', getUsers);

	function getUser(){
		console.log('In GetUSer');
		var xhr  = new XMLHttpRequest();
		xhr.open('GET', 'user.json', true)
		

		xhr.onload = function(){
			if(this.status == 200){
				console.log('In Status 200');
				var user = JSON.parse(this.responseText);
				var output = "";
				output += 	'<ul>'+
							'<li>'+ user.id +'</li>' +
							'<li>'+ user.name +'</li>' +
							'<li>'+ user.age + '</li>' +
							'<li>'+ user.email + '</li>' +
						   	'</ul>';
				console.log(output);
				document.getElementById('user').innerHTML = output;
			}
			
		}
		xhr.send();

	}

	function getUsers(){
		console.log('In');
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'users.json', true);
		xhr.onload = function(){
			var users = JSON.parse(this.responseText);
			var output = "";

			for(var i in users){
				output += 	'<ul>' +
							'<li>' + users[i].id + '</li>' +
							'<li>' + users[i].name + '</li>' +			
							'<li>' + users[i].age + '</li>' +
							'<li>' + users[i].email + '</li>' +
							'</ul>';
			}
			document.getElementById('users').innerHTML = output;


		}
		xhr.send();

	}

</script>
</body>
</html>